#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ì»¤ë°‹ íƒ€ìž…ì´ ì§€ì •ë˜ì§€ ì•Šì•˜ê³ , ë©”ì‹œì§€ê°€ ë¹„ì–´ìžˆë‹¤ë©´ í…œí”Œë¦¿ ì œê³µ
if [ -z "$(cat "$1")" ]; then
  # í˜„ìž¬ ë¸Œëžœì¹˜ëª… ê°€ì ¸ì˜¤ê¸°
  branch_name=$(git rev-parse --abbrev-ref HEAD)
  
  # ë¸Œëžœì¹˜ëª…ì—ì„œ ì»¤ë°‹ íƒ€ìž… ì¶”ë¡ 
  if echo "$branch_name" | grep -q "^feat/"; then
    commit_type="feat"
  elif echo "$branch_name" | grep -q "^fix/"; then
    commit_type="fix"
  elif echo "$branch_name" | grep -q "^docs/"; then
    commit_type="docs"
  elif echo "$branch_name" | grep -q "^refactor/"; then
    commit_type="refactor"
  else
    commit_type="feat"
  fi
  
  # í…œí”Œë¦¿ ìž‘ì„±
  cat > "$1" << EOF
$commit_type: 

# ðŸ“ Commit message guidelines:
# feat: new feature
# fix: bug fix
# docs: documentation changes
# style: formatting, missing semi colons, etc
# refactor: code change that neither fixes a bug nor adds a feature
# test: adding missing tests
# chore: maintain and config changes
#
# ðŸ’¡ Current branch: $branch_name
# ðŸŽ¯ Keep it short (50 chars max for title)
EOF
fi 